<div v-else-if="step === 1" class="card">
      <div class="builder">
        <aside class="builder-sidebar">
          <h4 class="section-title" style="margin-bottom:12px;">Tipos de pregunta</h4>
          <ul class="q-type-list">
            <li v-for="t in questionTypeOptions" :key="t.key" class="q-type-item">{{ t.label }}</li>
          </ul>
        </aside>
        <div class="builder-main">
          <header class="between" style="margin-bottom: 8px">
            <h3 class="title">Preguntas</h3>
            <button class="btn btn-ghost" @click="addQuestion">Agregar pregunta</button>
          </header>

          <div v-if="form.questions.length === 0" class="empty-tip">Agrega al menos una pregunta para continuar.</div>

          <div v-else class="stack">
            <div v-for="(q, idx) in form.questions" :key="q.id" class="question-card">
              <div class="between">
                <strong>#{{ idx + 1 }}</strong>
                <div class="question-toolbar">
                  <button class="btn btn-ghost btn-sm" @click="move(idx, -1)" :disabled="idx === 0">Subir</button>
                  <button class="btn btn-ghost btn-sm" @click="move(idx, 1)" :disabled="idx === form.questions.length - 1">Bajar</button>
                  <button class="btn btn-danger btn-sm" @click="removeQuestion(idx)">Eliminar</button>
                </div>
              </div>

              <label class="label">Texto de la pregunta</label>
              <input class="input" v-model="q.text" type="text" />

              <div class="row-wrap">
                <label class="label">Tipo</label>
                <select class="input" v-model="q.type">
                  <option v-for="t in questionTypeOptions" :key="t.key" :value="t.key">{{ t.label }}</option>
                </select>
                <label class="row" style="gap: 6px"><input type="checkbox" v-model="q.required" /> Obligatoria</label>
              </div>
              <div v-if="q.type === 'single' || q.type === 'multiple'" class="mt-8">
                <div class="between">
                  <strong>Opciones</strong>
                  <button class="btn btn-ghost" @click="addOption(q)">Agregar opción</button>
                </div>
                <div v-if="!q.options || q.options.length === 0" class="empty-tip">Agrega 2 o más opciones</div>
                <div v-else class="stack-sm">
                  <div v-for="(opt, k) in q.options" :key="opt.id" class="option-row">
                    <input class="input flex1" v-model="opt.text" type="text" placeholder="Opción" />
                    <button class="btn btn-danger btn-sm" @click="removeOption(q, k)">×</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <footer class="actions">
            <button class="btn btn-secondary" @click="discard()">Cancelar</button>
            <button class="btn btn-ghost" @click="prev">Atrás</button>
            <button class="btn btn-primary" :disabled="!canNextQuestions" @click="next">Siguiente</button>
          </footer>
        </div>
      </div>
    </div>

    
